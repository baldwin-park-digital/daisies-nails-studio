---
import { faqs } from "../data/faq";
import type { FAQItem } from "../data/faq";
import Accordion from "./Accordion.astro";
import type { AccordionItem } from "./Accordion.astro";

interface Props {
  title?: string;
  description?: string;
  items?: FAQItem[];
  variant?: "default" | "highlight";
}

const {
  title = "Frequently Asked Questions",
  description,
  items = faqs,
  variant = "default",
} = Astro.props;

const variantClasses = {
  default: "bg-transparent",
  highlight: "bg-surface-dim rounded-lg p-8 md:p-6",
};

// Transform FAQ items to Accordion items
const accordionItems: AccordionItem[] = items.map((faq) => ({
  id: faq.id,
  title: faq.question,
  content: faq.answer,
}));
---

<section class={`py-16 md:py-12 ${variantClasses[variant]}`}>
  <div class="max-w-4xl mx-auto px-6 md:px-2">
    {title && (
      <div class="mb-12 text-center">
        <h2 class="text-4xl md:text-3xl font-bold text-primary mb-4">
          {title}
        </h2>
        {description && (
          <p class="text-lg text-on-surface-dim max-w-2xl mx-auto">
            {description}
          </p>
        )}
      </div>
    )}

    <Accordion items={accordionItems} />
  </div>
</section>
