---
import Card from "./Card.astro";
import type { CardGridConfig } from "../data/cardGrid";

interface Props {
  config: CardGridConfig;
}

const { config } = Astro.props;

const columnClasses = {
  "2": "md:grid-cols-2",
  "3": "md:grid-cols-3",
  "4": "md:grid-cols-4",
};

const variantClasses = {
  default: "bg-transparent",
  highlight: "bg-surface-dim rounded-lg p-8 md:p-12",
  minimal: "bg-transparent",
};
---

<section class={variantClasses[config.variant || "default"]}>
  <div class="max-w-6xl mx-auto px-6 md:px-2">
    {config.title && (
      <div class="mb-12 text-center">
        <h2 class="text-4xl md:text-3xl font-bold text-primary mb-4">
          {config.title}
        </h2>
        {config.description && (
          <p class="text-lg text-on-surface-dim max-w-2xl mx-auto">
            {config.description}
          </p>
        )}
      </div>
    )}

    <div class={`grid grid-cols-1 ${columnClasses[config.columns || "3"]} gap-8 md:gap-6`}>
      {config.items.map((item) => (
        <Card
          title={item.title}
          description={item.description}
          href={item.href}
          external={item.external}
          image={item.image}
          badge={item.badge}
        />
      ))}
    </div>
  </div>
</section>
